<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MCIE 1012 Chapter 3 Practice Questions</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            padding: 20px;
            background-color: #f4f4f4;
        }
        .quiz-container {
            max-width: 600px;
            margin: auto;
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0px 0px 10px gray;
        }
        h2 {
            text-align: center;
        }
        .question {
            font-weight: bold;
            margin-bottom: 10px;
        }
        .options button {
            display: block;
            width: 100%;
            padding: 10px;
            margin: 5px 0;
            border: none;
            border-radius: 5px;
            background: #ddd;
            cursor: pointer;
            transition: background 0.3s;
            text-align: left;
        }
        .options button:hover {
            background: #ccc;
        }
        .options button.answered {
            pointer-events: none;
            opacity: 0.7;
        }
        .options button.correct-choice {
            background-color: #90ee90;
            color: black;
        }
        .options button.wrong-choice {
            background-color: #ffcccb;
            color: black;
        }
        .feedback {
            font-weight: bold;
            margin-left: 10px;
        }
        .feedback.correct {
            color: green;
        }
        .feedback.wrong {
            color: red;
        }
        .short-answer-section {
            margin-top: 40px;
        }
        .short-answer {
            margin-bottom: 20px;
        }
        textarea {
            width: 100%;
            padding: 10px;
            margin-top: 5px;
            border-radius: 5px;
            border: 1px solid #ddd;
        }
        .submit-btn, .close-btn {
            background-color: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.3s;
            margin-top: 10px;
        }
        .submit-btn:hover, .close-btn:hover {
            background-color: #45a049;
        }
        .results {
            margin-top: 20px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            display: none;
        }
        .results p {
            margin: 5px 0;
        }
        .close-btn {
            display: block;
            margin: 20px auto 0;
        }
    </style>
</head>
<body>

<div class="quiz-container">
    <h2>Moral and Citizenship Education (MCIE 1012) - Chapter 3 Practice Questions</h2>
    <form id="quizForm">
        <div id="quiz"></div>
        <div class="short-answer-section">
            <h2>Short Answer Questions</h2>
            <div id="short-answers"></div>
        </div>
        <button type="submit" class="submit-btn">Grade My Answers</button>
    </form>
    <div id="results" class="results"></div>
    <button class="close-btn" onclick="window.close()">Close This Page</button>
</div>

<script>
    const questions = [
        { 
            question: "What is the primary focus of ethical decision-making and moral judgments?", 
            choices: [
                "Making ethical choices and evaluating actions",
                "Defining civic education", 
                "Understanding state structures", 
                "Theories of citizenship"
            ], 
            answer: "Making ethical choices and evaluating actions"
        },
        { 
            question: "Ethical decision-making involves:", 
            choices: [
                "Following societal norms without question", 
                "Making choices based on ethical principles and reasoning",
                "Ignoring personal values", 
                "Acting solely on legal obligations"
            ], 
            answer: "Making choices based on ethical principles and reasoning"
        },
        { 
            question: "Which of these is NOT a component of ethical decision-making?", 
            choices: [
                "Moral intuitions", 
                "Critical reasoning", 
                "Economic analysis",
                "Ethical principles"
            ], 
            answer: "Economic analysis"
        },
        { 
            question: "Moral intuitions are:", 
            choices: [
                "Deliberate and calculated decisions", 
                "Laws enforced by the state", 
                "Theories of ethical behavior",
                "Immediate, gut-level responses to ethical situations"
            ], 
            answer: "Immediate, gut-level responses to ethical situations"
        },
        { 
            question: "What role does critical reasoning play in ethical decision-making?", 
            choices: [
                "Eliminates the need for ethical principles", 
                "Helps evaluate and refine moral intuitions",
                "Focuses only on legal consequences", 
                "Replaces personal values"
            ], 
            answer: "Helps evaluate and refine moral intuitions"
        },
        { 
            question: "Rationalization in ethical decision-making refers to:", 
            choices: [
                "Justifying actions after they are taken",
                "Planning actions in advance", 
                "Ignoring ethical dilemmas", 
                "Following religious doctrines"
            ], 
            answer: "Justifying actions after they are taken"
        },
        { 
            question: "Which type of reasoning involves drawing general conclusions from specific examples?", 
            choices: [
                "Deductive reasoning", 
                "Intuitive reasoning", 
                "Legal reasoning",
                "Inductive reasoning"
            ], 
            answer: "Inductive reasoning"
        },
        { 
            question: "Ethics and religious faith:", 
            choices: [
                "Are always in conflict", 
                "Are identical in purpose", 
                "Should never influence each other",
                "Can intersect but are distinct"
            ], 
            answer: "Can intersect but are distinct"
        },
        { 
            question: "Testing moral arguments involves:", 
            choices: [
                "Accepting them without scrutiny", 
                "Evaluating their logic and consistency",
                "Relying solely on emotions", 
                "Following societal trends"
            ], 
            answer: "Evaluating their logic and consistency"
        },
        { 
            question: "The 'Thinking Ethically' framework emphasizes:", 
            choices: [
                "A single approach to all ethical dilemmas", 
                "Multiple approaches like fairness, rights, and common good",
                "Ignoring consequences of actions", 
                "Following only legal guidelines"
            ], 
            answer: "Multiple approaches like fairness, rights, and common good"
        }
    ];

    const shortAnswerQuestions = [
        { 
            question: "What is the role of moral intuitions in ethical decision-making?", 
            keywords: ['moral', 'intuitions', 'immediate', 'instinctive', 'reasoning', 'ethical']
        },
        { 
            question: "How does the Fairness and Justice Approach differ from the Common Good Approach in ethical decision-making?", 
            keywords: ['fairness', 'justice', 'equitably', 'common', 'good', 'community']
        },
        { 
            question: "Explain the Argument from Enlightened Self-Interest as a reason for being moral.", 
            keywords: ['self-interest', 'moral', 'benefits', 'personal', 'ethical', 'long-term']
        },
        { 
            question: "What are the four areas to which morality applies?", 
            keywords: ['religious', 'nature', 'individual', 'social', 'morality', 'areas']
        },
        { 
            question: "Why is critical reasoning important in testing moral arguments?", 
            keywords: ['critical', 'reasoning', 'moral', 'arguments', 'logic', 'consistency']
        }
    ];

    function loadQuiz() {
        const quizDiv = document.getElementById("quiz");
        quizDiv.innerHTML = "";

        questions.forEach((q, index) => {
            const questionBlock = document.createElement("div");
            questionBlock.style.marginBottom = "20px";

            const questionElement = document.createElement("div");
            questionElement.classList.add("question");
            questionElement.innerText = `${index + 1}. ${q.question}`;

            const optionsDiv = document.createElement("div");
            optionsDiv.classList.add("options");

            q.choices.forEach(choice => {
                const button = document.createElement("button");
                button.type = "button"; // Prevent form submission
                button.innerText = choice;
                button.dataset.index = index; // Store question index
                button.dataset.choice = choice; // Store selected choice
                button.onclick = function() {
                    const allButtonsInGroup = optionsDiv.querySelectorAll('button');
                    allButtonsInGroup.forEach(btn => {
                        btn.classList.add('answered');
                        btn.classList.remove('correct-choice', 'wrong-choice');
                        btn.querySelectorAll('.feedback').forEach(span => span.remove());
                    });

                    const feedbackSpan = document.createElement('span');
                    feedbackSpan.classList.add('feedback');

                    if (choice === q.answer) {
                        button.classList.add('correct-choice');
                        feedbackSpan.classList.add('correct');
                        feedbackSpan.innerText = 'Correct';
                    } else {
                        button.classList.add('wrong-choice');
                        feedbackSpan.classList.add('wrong');
                        feedbackSpan.innerText = 'Wrong';
                        allButtonsInGroup.forEach(btn => {
                            if (btn.innerText === q.answer) {
                                btn.classList.add('correct-choice');
                            }
                        });
                    }
                    button.appendChild(feedbackSpan);
                };
                optionsDiv.appendChild(button);
            });

            questionBlock.appendChild(questionElement);
            questionBlock.appendChild(optionsDiv);
            quizDiv.appendChild(questionBlock);
        });
    }

    function loadShortAnswers() {
        const shortAnswerDiv = document.getElementById("short-answers");
        shortAnswerDiv.innerHTML = "";

        shortAnswerQuestions.forEach((sa, index) => {
            const saElement = document.createElement("div");
            saElement.classList.add("short-answer");

            const questionP = document.createElement("p");
            questionP.innerText = `${index + 1}. ${sa.question}`;
            saElement.appendChild(questionP);

            const answerTextarea = document.createElement("textarea");
            answerTextarea.id = `answer${index}`;
            answerTextarea.rows = 4;
            answerTextarea.placeholder = "Type your answer here...";
            saElement.appendChild(answerTextarea);

            shortAnswerDiv.appendChild(saElement);
        });
    }

    document.getElementById('quizForm').addEventListener('submit', function(event) {
        event.preventDefault();

        let totalScore = 0;
        const maxScorePerQuestion = 100;
        const totalQuestions = questions.length + shortAnswerQuestions.length;
        const resultsDiv = document.getElementById('results');
        let resultsHTML = "<h3>Your Results</h3>";

        // Grade MCQs
        questions.forEach((q, index) => {
            const selectedButton = document.querySelector(`#quiz div:nth-child(${index + 1}) .options button.answered`);
            let score = 0;
            if (selectedButton && selectedButton.dataset.choice === q.answer) {
                score = maxScorePerQuestion;
            }
            totalScore += score;
            resultsHTML += `<p>MCQ ${index + 1} Score: ${score}/100</p>`;
        });

        // Grade Short Answers
        shortAnswerQuestions.forEach((sa, index) => {
            const answer = document.getElementById(`answer${index}`).value.toLowerCase();
            let score = 0;
            const pointsPerKeyword = maxScorePerQuestion / sa.keywords.length;

            sa.keywords.forEach(keyword => {
                if (answer.includes(keyword)) {
                    score += pointsPerKeyword;
                }
            });

            score = Math.min(score, maxScorePerQuestion); // Cap at 100
            totalScore += score;
            resultsHTML += `<p>Short Answer ${index + 1} Score: ${Math.round(score)}/100</p>`;
        });

        const overallScore = Math.round(totalScore / totalQuestions);
        resultsHTML += `<p><strong>Total Score: ${totalScore}/${totalQuestions * maxScorePerQuestion} (Average: ${overallScore}/100)</strong></p>`;
        resultsHTML += `<p>Feedback: ${getFeedback(overallScore)}</p>`;

        resultsDiv.innerHTML = resultsHTML;
        resultsDiv.style.display = "block";
    });

    function getFeedback(score) {
        if (score >= 80) return "Excellent! You’ve demonstrated a strong understanding.";
        if (score >= 60) return "Good effort! Include more key concepts for a higher score.";
        if (score >= 40) return "Fair attempt. Review the material and try again.";
        return "Needs improvement. Focus on including key terms and ideas.";
    }

    loadQuiz();
    loadShortAnswers();
</script>

</body>
</html>
